---
layout: post
author: doodoo
title: "[Design Pattern][C++] Editbox ë§Œë“¤ê¸° (1)"
subtitle: "ë³€í•˜ëŠ” ê²ƒê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë¶„ë¦¬í•´ì•¼í•˜ëŠ” ê°œë…ì„ ë°°ìš°ì ğŸ™Š"
date: 2021-09-01
cover: /assets/img/design_editbox.png
tags: C++ Design_Pattern
sitemap :
 changefreq : daily
 priority : 1.0
---
ì•ˆë…•í•˜ì„¸ìš”! <span class="doodoo">ë‘ë‘ì½”ë”©</span> ì…ë‹ˆë‹¤ âœ‹ <br>
ì˜¤ëŠ˜ì€ Editboxë¥¼ ë§Œë“¤ë©´ì„œ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ” ë””ìì¸ íŒ¨í„´ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ğŸ–‡ ì†ŒìŠ¤ì½”ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê³  <span class="tip">copy</span> ë²„íŠ¼ì„ ëˆ„ë¥¼ ê²½ìš° ë” ì‰½ê²Œ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ê¶ê¸ˆí•œ ì , ë³´ì•ˆì  ë‚¨ê²¨ì£¼ì‹œë©´ ì„±ì‹¤íˆ ë‹µë³€í•˜ê² ìŠµë‹ˆë‹¤. ğŸ˜ <br>
\+ ê°ìƒí‰ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ í˜ì´ë©ë‹ˆë‹¤. ğŸ™‡

### EditBox Widget
ìš°ë¦¬ëŠ” ë³´í†µ GUI (Graphic User Interface)ë¡œ êµ¬í˜„ëœ í”„ë¡œê·¸ë¨ì„ ë§ì´ ì‚¬ìš©í•œë‹¤. GUI í™˜ê²½ì—ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ì„ ë°›ê¸° ìœ„í•´, ì•„ë˜ì™€ ê°™ì´ Editbox ë¼ëŠ”ê²ƒì„ ë§ì´ ì‚¬ìš©í•œë‹¤. ì´ë²ˆ Design pattern ì‹œê°„ì—ì„œëŠ” Editboxë¥¼ ë§Œë“¤ì–´ë³´ê³ , Editboxë¥¼ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ ì–´ë–¤ Design patternì„ ìœ ì¶”í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œì•„ë³´ì.

![editbox](/assets/img/design_editbox.png)

ì‹¤ì œ GUIì½”ë“œë¥¼ ì´ìš©í•´ì„œ Editboxë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë¼, GUIë¼ ê°€ì •í•˜ê³  Console í™˜ê²½ì—ì„œ Editboxë¥¼ ë§Œë“¤ì–´ë³´ì.

```cpp
#include <iostream>
#include <string>

using namespace std;

class Edit
{
  string data;
public:
  string getData()
  {
    cin >> data;
  }
  return data;
};

int main()
{
  Edit edit;

  while(1)
  {
    string s = edit.getData();
    cout << s;
  }
}
```

ìœ„ì˜ ì½”ë“œë¥¼ ë³´ì.

ê°„ë‹¨í•˜ê²Œ `Edit`ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆìœ¼ë©°, ì‚¬ìš©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

ìš°ë¦¬ëŠ” `Edit`ì´ë¼ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì´ GUI í”„ë¡œê·¸ë¨ìœ¼ë¡œ êµ¬ì¶•ëœë‹¤ê³  ìƒìƒì˜ ë‚˜ë˜ë¥¼ í¼ì³ë³´ì (ì°©í•œ ì‚¬ëŒ ëˆˆì—ë§Œ GUIê°€ ë³´ì¸ë‹¤ ğŸ˜‡)

ê·¸ë¦¬ê³ , `Editbox`ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì…ë ¥ë°›ê³ , ì…ë ¥ ë°›ì€ ë°ì´í„°ë¥¼ consoleì— ë¿Œë ¤ì¤€ë‹¤. ì•„ì£¼ ê°„ë‹¨í•œ í”„ë¡œê·¸ë¨ì´ë‹¤. ì—¬ê¸°ì„œ `Edit`ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì¢€ ë” í–¥ìƒì‹œì¼œë³´ì.

ìš°ë¦¬ëŠ” ìœ„ì˜ Editbox ê·¸ë¦¼ê³¼ ê°™ì´ "ì´ë¦„", "ë‚˜ì´", "ì£¼ì†Œ"ë¥¼ ì…ë ¥ë°›ì•„ì•¼í•œë‹¤. "ì´ë¦„"ì´ì•¼ ê·¸ëƒ¥ cinìœ¼ë¡œ `string` íƒ€ì…ì„ ì…ë ¥ë°›ìœ¼ë©´ ë˜ëŠ”ë°.. "ë‚˜ì´"ëŠ” ëª¨ë“  ë¬¸ìê°€ ì•„ë‹Œ *ìˆ«ì*ë§Œ ì…ë ¥ë°›ë„ë¡ í•´ì•¼í•œë‹¤.

ìš°ë¦¬ëŠ” ì—¬ê¸°ì„œ ì„¤ê³„ì— ëŒ€í•´ ê³ ë¯¼í•  ìˆ˜ ìˆë‹¤. ê·¸ëƒ¥ ë¬¸ìë¥¼ ëª¨ë‘ ì…ë ¥ë°›ê³ , *ìˆ«ì*ê°€ ì•„ë‹ˆë©´ *ìˆ«ìê°€ ì•„ë‹™ë‹ˆë‹¤.* ë¼ê³  ì¶œë ¥ì„ í•´ì¤„ ê²ƒì¸ê°€? ì•„ë‹ˆë©´ ì• ë‹¹ì´ˆ *ìˆ«ì*ë§Œ ì…ë ¥ë°›ë„ë¡ ë§Œë“¤ ê²ƒì¸ê°€?

ì¡°ê¸ˆ ë” ë‚˜ì€ ì„¤ê³„ëŠ” ì…ë ¥ë°›ì„ ë•Œë¶€í„° *ìˆ«ì*ë§Œ ì…ë ¥ë°›ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤. ì´ëŸ° í–‰ìœ„ë¥¼ ìš°ë¦¬ëŠ” *validation* ì´ë¼ê³  ì •ì˜í•œë‹¤. ì¦‰, ì…ë ¥ ë°›ì„ ë•Œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µí•´ *ìˆ«ì*ë§Œ ì…ë ¥ë°›ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.

### í–¥ìƒëœ Editbox with validation
ìœ„ì—ì„œ ì–¸ê¸‰í•œê²ƒê³¼ ê°™ì´, *validation*ì„ ì¶”ê°€í•´ ìˆ«ìë§Œ ì…ë ¥ë°›ë„ë¡ í•´ë³´ì.

<span class="tip">Tip</span> *validation*ì„ ê²€ì‚¬í•˜ê¸° ìœ„í•´ì„œëŠ” ë¬¸ìë¥¼ í•˜ë‚˜ì”© ì…ë ¥ë°›ì•„ì•¼í•œë‹¤. ë³¸ì¸ì˜ í™˜ê²½ì´ window í”Œë«í¼ì´ë¼ë©´ `#include <conio.h>`ë¥¼ ì¶”ê°€í•˜ì—¬ `getch()`ë¥¼ ì‚¬ìš©í•˜ë©´ëœë‹¤.

<span class="tip">Tip</span> ë§Œì•½ ë³¸ì¸ì˜ í™˜ê²½ì´ linux í”Œë«í¼ì´ë¼ë©´, `#include<conio.h>`ë¥¼ ì¶”ê°€í•  ìˆ˜ ì—†ëŠ”ë° ì´ëŸ´ ê²½ìš° ì§ì ‘ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê±°ë‚˜, `#include<curses.h>`ë¥¼ ì¶”ê°€í•˜ì—¬ `getch()`ë¥¼ ì‚¬ìš©í•œë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://linux.die.net/man/3/getch)ë¥¼ í´ë¦­í•´ë³´ì.

ë³¸ì¸ì€ `getch()`ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤. ë§Œë“œëŠ” ë°©ë²•ì€ êµ¬ê¸€ ê²€ìƒ‰í•´ì„œ ì°¾ì•„ì„œ ì¶”ê°€í•˜ë„ë¡ í•˜ì.

```cpp
#include <iostream>
#include <string>
#include <termio.h> // getch()ë¥¼ ìœ„í•´ ì¶”ê°€

using namespace std;

// keyboardë¡œ í•œê¸€ìì”© ì…ë ¥ë°›ëŠ” í•¨ìˆ˜
char getch(){
    char ch;
    struct termios buf, save;
    tcgetattr(0,&save);
    buf = save;
    buf.c_lflag &= ~(ICANON|ECHO);
    buf.c_cc[VMIN] = 1;
    buf.c_cc[VTIME] = 0;
    tcsetattr(0, TCSAFLUSH, &buf);
    ch = getchar();
    tcsetattr(0, TCSAFLUSH, &save);
    return ch;
}

class Edit
{
  string data;
public:
  string getData()
  {
    // ê¸°ì¡´ ë°ì´í„°ê°€ ìˆë‹¤ë©´, ì§€ìš°ê³ .
    data.clear();

    while(1) {
      //í•œ ê¸€ìì”© ì½ìŒ
      char c = getch();

      // Enterë¥¼ ì…ë ¥í•˜ë©´ ì¢…ë£Œ
      if (c == 10) break;

      if (isdigit(c)) {
        data.emplace_back(c);
        cout << c;
      }
    }
    cout << endl;
  }
  return data;
};

int main()
{
  Edit edit;

  while(1)
  {
    string s = edit.getData();
    cout << s;
  }
}
```

ìœ„ì˜ ì˜ˆì‹œì½”ë“œì™€ ê°™ì´, `getData()` í•¨ìˆ˜ë¥¼ ë³€ê²½í•´ ìˆ«ìë§Œ ì…ë ¥ë°›ë„ë¡ í•´ë³´ì. ë¬´í•œë£¨í”„ë¥¼ ëŒë©´ì„œ `getch()`ë¡œ í•œê¸€ìì”© ì…ë ¥ë°›ëŠ”ë‹¤. ë§Œì•½ ì‚¬ìš©ìê°€ `Enter key`ë¥¼ ì…ë ¥í•˜ë©´ ì¢…ë£Œí•˜ê³ , `isdigit`ë¥¼ í™œìš©í•´ í˜„ì¬ ê°’ì´ ìˆ«ìì¸ì§€ í™•ì¸í•œë‹¤. ìˆ«ìë¼ë©´, `data`ê°’ì— ì¶”ê°€í•˜ê³  ì•„ë‹ˆë¼ë©´ ë‹¤ìŒ ë¬¸ìë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.

ìœ„ì™€ ê°™ì´, êµ¬ì¶•í•˜ë©´ ìš°ë¦¬ëŠ” Editboxì˜ ë‘ ë²ˆì§¸ ì…ë ¥ ê°’ì¸ *ë‚˜ì´*ë¥¼ ì˜¤ì§ ìˆ«ìë¡œë§Œ ì…ë ¥ë°›ì„ ìˆ˜ ìˆë‹¤.

ìš°ë¦¬ëŠ” Editbox ë‹¤ìŒ ê°’ì¸ ì£¼ì†Œë¥¼ ì…ë ¥ë°›ì•„ì•¼í•œë‹¤. ì£¼ì†ŒëŠ” *ë¬¸ìì™€ ìˆ«ìì˜ í•©ì˜ ê²°ê³¼*ì´ë‹¤. ì´ëŸ´ ê²½ìš° ìˆ«ìë§Œ ë°›ìœ¼ë©´ ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— `validation`ê²€ì‚¬ ë¶€ë¶„ì„ ìˆ˜ì •í•´ì•¼í•œë‹¤.

ìƒê°í•´ë³´ë©´, ìš°ë¦¬ëŠ” `validation`ì„ ìˆ«ì ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸° ìœ„í•´ ë„£ì—ˆë‹¤. Input ê°’ì˜ í˜•íƒœ ì¦‰, ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìë¥¼ ë°›ì•„ì•¼í•˜ëŠ” ê²½ìš°ê°€ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤ë©´ ë˜ ë‹¤ì‹œ `validation`ì„ ë‹¤ì‹œ ë°”ê¿”ì•¼í•˜ëŠ” ê²ƒì¸ê°€? ê·¸ëŸ´ ìˆ˜ ì—†ë‹¤.ì–´ì§œí”¼ *ë‚˜ì´*ë¥¼ ë˜ ì…ë ¥ ë°›ì•„ì•¼í•˜ëŠ” ê²½ìš°ê°€ ì˜¤ê¸° ë•Œë¬¸ì´ë‹¤.

ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ì•¼í• ê¹Œ?

Editboxë¥¼ ì¢€ ë” í–¥ìƒì‹œì¼œë³´ì.

### Validationì˜ ë¬¸ì œë¥¼ í–¥ìƒì‹œí‚¨ Editbox
Editboxë¥¼ ì¢€ ë” í–¥ìƒì‹œí‚¤ê¸° ì „ì— ìƒê°í•´ë³´ì.

ì‹¤ì œë¡œ, ìš°ë¦¬ëŠ” GUI í™˜ê²½ì„ êµ¬ì„±í•˜ê¸° ì „ Editboxë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Libraryë¥¼ includeí•´ ì‚¬ìš©í•œë‹¤. ë§Œì•½ Editbox ë‚´ì—ì„œ Validationì„ êµ¬ì¶•í•˜ê²Œ ë  ê²½ìš° ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” Libraryë¥¼ ë³€ê²½í•´ì•¼ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ë³´ë©´ ë§ì´ ëŠë‚„ ìˆ˜ ìˆì§€ë§Œ, LibraryëŠ” ê°€ì ¸ë‹¤ ì“°ëŠ” ì¡´ì¬ì´ê¸° ë•Œë¬¸ì´ ìš°ë¦¬ê°€ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.

ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” Editboxì—ì„œ `validation` ê²€ì‚¬í•˜ëŠ” ë¶€ë¶„ì„ ì‚¬ìš©ìê°€ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì–´ì•¼í•œë‹¤. ì¦‰, Editboxë¥¼ *ë§Œë“œëŠ” ì‚¬ëŒì´ ì‚¬ìš©ìê°€ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ì—´ì–´ì¤˜ì•¼ í•œë‹¤ëŠ” ì´ì•¼ê¸°*ì´ë‹¤.

ì‚¬ìš©ìê°€ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” Editboxë¡œ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ì„  2ê°€ì§€ ë°©ë²•ì´ ì¡´ì¬í•œë‹¤.

*1. ê°€ìƒí•¨ìˆ˜ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•* <br>
*2. Compositionì„ í™œìš©í•˜ëŠ” ë°©ë²•*

ì´ì œë¶€í„° ìœ„ì˜ ë‘ ê°€ì§€ ë°©ë²•ì„ í™œìš©í•´ Editboxë¥¼ í–¥ìƒì‹œì¼œë³´ì.

í¬ìŠ¤íŒ…ì´ ê¸¸ì–´ì¡Œìœ¼ë‹ˆ í•œìˆ¨ëŒë¦¬ê³ , [ì—¬ê¸°]()ë¥¼ í´ë¦­í•´ í–¥ìƒì‹œí‚¤ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì.
