---
layout: post
author: ë„ë‘
title: "[C++ Basic] const member function"
subtitle: "const member functionì˜ í•„ìš”ì„±ì— ëŒ€í•´ ì•Œì•„ë³´ì!! ğŸ˜"
date: 2023-03-21
cover: /assets/img/default.png
tags: C++ Cpp_Basic
sitemap :
 changefreq : daily
 priority : 1.0
---
ì•ˆë…•í•˜ì„¸ìš”! ë‘ë‘ì½”ë”© <span class="doodoo">ë„ë‘ ğŸ¥¸</span> ì…ë‹ˆë‹¤ âœ‹ <br>
ì˜¤ëŠ˜ì€ const member function í•„ìš”ì„±ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ğŸ–‡ ì†ŒìŠ¤ì½”ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê³  <span class="tip">copy</span> ë²„íŠ¼ì„ ëˆ„ë¥¼ ê²½ìš° ë” ì‰½ê²Œ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ê¶ê¸ˆí•œ ì , ë³´ì•ˆì  ë‚¨ê²¨ì£¼ì‹œë©´ ì„±ì‹¤íˆ ë‹µë³€í•˜ê² ìŠµë‹ˆë‹¤. ğŸ˜ <br>
\+ ê°ìƒí‰ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ í˜ì´ë©ë‹ˆë‹¤. ğŸ™‡ <br>
### Intro.
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” C++ì—ì„œ ì‚¬ìš©í•˜ëŠ”  *const member function ì˜ ì‚¬ìš©ë²• ë° í•„ìš”ì„± / íŠ¹ì§•* ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### Const member function í•„ìš”ì„±
```cpp
#include <iostream>

class Point
{
	int x, y;
public:
	Point (int a, int b) : x(a), y(b) {}

	void set(int a, int b)
	{
		x = a;
		y = b;
	}

	void print()
	{
		std::cout << x << ", " << y << std::endl;
	}
};
int main()
{
	const Point p(1,2);

	// p.set(1,1); ì—ëŸ¬ ë°œìƒ
	p.print();
}
```

ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ê³  í•˜ì.

`set` í•¨ìˆ˜ ê°™ì€ ê²½ìš°, `const`ê°ì²´ì˜ ê°’ì„ ë³€ê²½í•˜ê³ ì í•˜ê¸° ë•Œë¬¸ì— *ì—ëŸ¬ë¥¼ ë°œìƒ*
ì‹œí‚¨ë‹¤ëŠ” ê²ƒì„ ìš°ë¦¬ëŠ” ì‰½ê²Œ ì•Œ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ê·¸ì € ì¶œë ¥ë§Œ ë‹´ë‹¹í•˜ëŠ” `print()`ëŠ” ì–´ë–¨ê¹Œ?

í•´ë‹¹ í•¨ìˆ˜ëŠ” ë¬¸ì œê°€ ì—†ì§€ ì•Šì„ê¹Œ?
ì½”ë“œë¥¼ ì»´íŒŒì¼ í•´ë³´ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

ì—ëŸ¬ê°€ ë‚˜ëŠ” ì´ìœ ë¥¼ ìƒê°í•´ë³´ì.

ìš°ë¦¬ëŠ” ë³´í†µ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•Œ, ì„ ì–¸ë¶€ì™€ êµ¬í˜„ë¶€ë¥¼ ë‚˜ëˆ  ì‘ì„±í•œë‹¤.

```cpp
#include <iostream>

class Point
{
public:
	...
	// ì„ ì–¸ë¶€ë§Œ ìˆëŠ” ìƒí™©
	void print();
};

Point::print()
{
	std::cout << x << ", " << y << std::endl;
}

int main()
{
	const Point p(1,2);

	p.print();
}
```

ìœ„ì™€ ê°™ì€ ìƒí™©ì—ì„œ ì»´íŒŒì¼ëŸ¬ëŠ” `print()` ì„ ì–¸ë§Œ ì•Œ ìˆ˜ ìˆë‹¤. ì¦‰, êµ¬í˜„ë¶€ëŠ” ì–´ë–»ê²Œ
ë˜ì–´ìˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ê·¸ê±´ *ë§ì»¤*ì˜ ì—­í• ì´ê¸° ë•Œë¬¸ì´ë‹¤. ë”°ë¼ì„œ, ì»´íŒŒì¼ëŸ¬ëŠ”
êµ¬í˜„ë¶€ì—ì„œ ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ìˆê¸° ë•Œë¬¸ì— ì•Œ ìˆ˜ ì—†ì–´ì„œ ì—ëŸ¬ë¥¼ ìœ ë°œí•œë‹¤.

ê·¸ë ‡ë‹¤ë©´ `print()`ëŠ” ì •ë§ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²ƒì¼ê¹Œ?

ë°”ë¡œ `const` ë©¤ë²„í•¨ìˆ˜ë¡œ ë§Œë“¤ ê²½ìš° í•´ë‹¹ í•¨ìˆ˜ë¥¼ ë¶€ë¥¼ ìˆ˜ ìˆë‹¤. `const` í•¨ìˆ˜ë¥¼
ë§Œë“œëŠ” ìƒí™©ì„ ê¼­ ê¸°ì–µí•˜ì! í•„ìš”ì„±ì´ ì •ë§ ì¤‘ìš”í•˜ë‹¤!

```cpp
// const í‚¤ì›Œë“œë¥¼ ë©¤ë²„í•¨ìˆ˜ ë’¤ì— ì ì–´ì£¼ë©´ë¨.
Point::print() const
{
	std::cout << x << ", " << y << std::endl;
}
```

ìœ„ì™€ ê°™ì´ `print()` ë©¤ë²„í•¨ìˆ˜ ë’¤ì— `const` í‚¤ì›Œë“œë¥¼ ì ì–´ì¤„ ê²½ìš° *ì»´íŒŒì¼ëŸ¬ ì—ê²Œ
ì´ê±´ ìƒìˆ˜ ì „ìš©ì´ë‹¤. ì¦‰, ë‚´ë¶€ì ìœ¼ë¡œ ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šì•„..* ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ëŠ”
ê²ƒì´ë‹¤.

`const` ë©¤ë²„í•¨ìˆ˜ ì˜ ì•ˆì“°ëŠ”ê±° ì•„ë‹ˆì•¼? ìƒê°í•  ìˆ˜ ìˆëŠ”ë°, ìš°ë¦¬ ì •ë§ ë§ì´ ì‚¬ìš©í•œë‹¤.
ë‚´ë¶€ì ìœ¼ë¡œ ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šì„ ê²½ìš° ë¬´ì¡°ê±´ `const`ë¥¼ ë¶™ì—¬ì¤˜ì•¼í•œë‹¤.

ë˜ë‹¤ë¥¸ ìƒí™©ì„ í•œë²ˆ ë³´ì.

```cpp
class Point
{
	int x, y;
public:
	Print(int a, int b) : x(a) , y(b) {}

	void print()
	{
		std::cout << x << ", " << y << std::endl;
	}
};

void foo(const Point& p)
{
	p.print(); //??
}

int main()
{
	Point p(1, 2);

	p.print(); // ok
	foo(p);
}
```

ìš°ë¦¬ëŠ” ì•ì„œ `const &`ë¥¼ í™œìš©í•´ `call by value` ì—ì„œ ë°œìƒí•˜ëŠ” ê°’ ë³µì‚¬ overheadë¥¼
ì œê±°í–ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://0xd00d00.github.io/2023/02/15/ecourse_basic_10_reference_1.html)ë¥¼ í™•ì¸í•˜ê¸° ë°”ë€ë‹¤.

ìœ„ì™€ ê°™ì´ í•¨ìˆ˜ì˜ ì¸ìë¡œ ë°›ì„ ë•Œ `const&`ë¥¼ í™œìš©í•˜ê²Œ ëœë‹¤ë©´ ì „ë‹¬ë°›ëŠ” í•¨ìˆ˜ê°€
`const`í™” ëœë‹¤.

ì´ë–„, ë‚´ë¶€ ë©¤ë²„í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê²Œ ë  ê²½ìš° ì–´ë–»ê²Œ ë ê¹Œ? ë°”ë¡œ *ì—ëŸ¬ê°€ ë°œìƒ*í•œë‹¤.

`const` ê°ì²´ê°€ ì¼ë°˜ ë©¤ë²„í•¨ìˆ˜ë¥¼ ë¶€ë¥¼ ê²½ìš° ë‚´ë¶€ì ìœ¼ë¡œ ê°’ì´ ë³€ê²½ë  ìˆ˜ ìˆê¸° ë–„ë¬¸ì—
ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

ë”°ë¼ì„œ, ì´ ê²½ìš°ì—ë„ ì•„ë˜ì™€ ê°™ì´ `const`í™” í•´ì¤˜ì•¼í•œë‹¤.

ë³´í†µ ì˜ ëª¨ë¥´ë©´, `const`ëŠ” ë‚˜ë‘ ì•ˆë§ì•„í•˜ê³ .. `const`ë¥¼ ì œê±°í•˜ëŠ”ë°.. ì ˆëŒ€ í•˜ë©´
ì•ˆëœë‹¤. overheadë¥¼ ì œê±°í•˜ê¸° ìœ„í•´ ë„£ì€ ê²ƒì¸ë°, ë§Œì•½ ì œê±°í•œë‹¤ë©´ overhead ë°œìƒí•˜ê²Œ
ëœë‹¤.

```cpp
class Point
{
	void print() const
	{
		std::cout << x << ", " << y << std::endl;
	}
};
```

ì´ì™¸ì—ë„ ìš°ë¦¬ê°€ ë§Œì•½ ë©¤ë²„ ë°ì´í„°ë¥¼ ì–»ì–´ì˜¤ëŠ” *getter* ë™ì‘ë§Œ ìˆë‹¤ë©´ ë³´í†µ
`const`ë¥¼ ë¶™ì—¬ì£¼ëŠ” ê²Œ ì¢‹ë‹¤. ì•„ë˜ì™€ ê°™ì´ `getX` `getY`ë¥¼ ë§Œë“œëŠ” ìŠµê´€ì„ ë“¤ì´ì.

```cpp
class Point
{
	int x, y;
public:
	getX() const { return x; }
	getY() const { return y; }
};
```

### const member function íŠ¹ì§•
#### (1) mutable
ì•„ë˜ì˜ ì½”ë“œê°€ ìˆì„ ë•Œ, `print()`ì˜ ì„±ëŠ¥ì„ ì¸¡ì •í•˜ê³ ì í•œë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ë ê¹Œ?

```cpp
#include <iostream>

class Point
{
	int x, y;
	int cnt = 0;
public:
	void print() const
	{
		cnt++; // ì´ê±° ê°€ëŠ¥í• ê¹Œ?
		std::cout << x << ", " << y << std::endl;
	}
};

int main()
{
	Point p(1,2);
	p.print();
}
```

`print()`ì˜ ì„±ëŠ¥ì„ ì•Œê¸° ìœ„í•´ `cnt`ë¥¼ í™œìš©í•´ í•¨ìˆ˜ì˜ í˜¸ì¶œ íšŸìˆ˜ë¥¼ ê¸°ë¡í•´ ì„±ëŠ¥
ì§€í‘œë¡œ ë§Œë“¤ê³ ì í•œë‹¤.

`cnt`ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” í–‰ìœ„ê°€ ê°€ëŠ¥í• ê¹Œ? í˜„ì¬ì˜ ì½”ë“œì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. `const`
ë©¤ë²„í•¨ìˆ˜ë¡œ ì„ ì–¸ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë‚´ë¶€ì—ì„œ ì–´ë–¤ ê²ƒë„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.

ì´ ê²½ìš° ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

ë³´í†µ ì˜¤í”ˆì†ŒìŠ¤ì—ì„œ ë§ì´ í™œìš©í•˜ëŠ”ë°, `mutable`ì´ë¼ëŠ” í‚¤ì›Œë“œë¥¼ í™œìš©í•œë‹¤.

í•´ë‹¹ ë³€ìˆ˜ëŠ” íŠ¹ë³„í•œ ê²½ìš° ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ, í…Œí¬ë‹‰ìƒ `const` ë©¤ë²„ í•¨ìˆ˜ ë‚´ì—ì„œë„
ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

```cpp
class Point
{
	...
	// ì•„ë˜ì˜ cntë¥¼ mutableë¡œ ì„ ì–¸í•´ì£¼ì–´ë¼.
	mutable int cnt = 0;
public:
	...
}
```

ìœ„ì™€ ê°™ì´ `mutable`ë¡œ ì„ ì–¸í•  ê²½ìš° ë¬¸ì œì—†ì´ ì»´íŒŒì¼ë˜ê³  ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜
ìˆì„ ê²ƒì´ë‹¤.

ì´ë¦„ ê·¸ëŒ€ë¡œ *ëŒì—°ë³€ì´*ë¼ì„œ íŠ¹ì •í•œ ê²½ìš°ì— ì‚¬ìš©í•´ì•¼ë˜ê³ , ì¼ë°˜ì ì¸ ì†ŒìŠ¤ì—ì„œëŠ” ì˜
ë§Œë‚˜ì§€ ì•Šì„ ê²ƒ ê°™ë‹¤ ì •ë„ë¡œ ì´í•´í•˜ë©´ ì¢‹ë‹¤. (ê·¸ë˜ë„ í˜¹ì‹œ ë‚˜ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆ, í‚¤ì›Œë“œ
ì •ë„ì™€ ì™œ ì‚¬ìš©í•˜ëŠ”ì§€ëŠ” ì•Œì•„ë‘ì!)

#### (2) const overloading
```cpp
class Test
{
	int data = 0;
public:
	int* getPoint() const { return &data; }
};

int main()
{
	Test t;
	t.getPoint();
}
```

ìœ„ ì½”ë“œì—ì„œ `getPoint()`ë¥¼ í˜¸ì¶œí•  ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. `const`ë©¤ë²„í•¨ìˆ˜ë¼ ì•ˆì—ì„œ
ë³€ê²½í•˜ëŠ” ê²ƒë„ ì—†ëŠ”ë° ì™œ ì—ëŸ¬ê°€ ë°œìƒí• ê¹Œ?

ê·¸ ì´ìœ ëŠ” `return` ê°’ì— ìˆë‹¤. `data`ì˜ ì£¼ì†Œê°’ì„ ë¦¬í„´í•˜ê²Œ ë  ê²½ìš° ì™¸ë¶€ì—ì„œ
ì „ë‹¬ë°›ì•„ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ, `const` ë©¤ë²„í•¨ìˆ˜ì˜ íŠ¹ì§•ì„ ë²—ì–´ë‚˜ê²Œ ë¨ìœ¼ë¡œ
í•´ë‹¹ ë¬¸ë²•ì€ ì—ëŸ¬ë¥¼ ìœ ë°œí•œë‹¤.

ì´ë¥¼ ë§‰ê¸°ìœ„í•´ì„œëŠ” `return` ê°’ì„ `const`ë¡œ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤.

```cpp
class Test
{
	int data = 0;
public:
	// ì´ì™€ ê°™ì´, constë¡œ ë°˜í™˜í•  ê²½ìš° compile ì—ëŸ¬ë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤.
	const int* getPoint() const { return &data; }
};

int main()
{
	Test t;
	t.getPoint();
}
```

ë˜ë‹¤ë¥¸ `const` ë©¤ë²„í•¨ìˆ˜ì˜ íŠ¹ì§•ì€ *const overloading*ì´ë‹¤.

```cpp
class Test
{
public:
	void foo { std::cout << "1" << std::endl; }
	void foo const { std::cout << "2" << std::endl; }
};

int main()
{
	Test t1;
	t1.foo();

	const Test t2;
	t2.foo();
}
```

`t1`ì„ í†µí•´ `foo()` í˜¸ì¶œí•  ê²½ìš° "1" ì´ í˜¸ì¶œë˜ê²Œ ëœë‹¤. ë§Œì•½ ì—†ì„ ê²½ìš° "2"ë¥¼
í˜¸ì¶œí•˜ë„ë¡ í•œë‹¤.

ì¦‰, C++ì—ì„œëŠ” `const` ë©¤ë²„í•¨ìˆ˜ì™€ ì¼ë°˜í•¨ìˆ˜ë¥¼ êµ¬ë³„í•˜ë„ë¡ í•œë‹¤.

ë§Œì•½ `t2`ì™€ ê°™ì´ `const`ë¡œ ì„ ì–¸ëœ classì¼ ê²½ìš° ë¬´ì¡°ê±´ "2" ë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•œë‹¤.
ë§Œì•½ ì—†ì„ ê²½ìš° compile errorë¥¼ ìœ ë°œí•œë‹¤.

ì´ë¥¼ í†µí•´ ì•Œ ìˆ˜ ìˆëŠ” ê²ƒì€ ìš°ë¦¬ê°€ ì„ ì–¸ë¶€ì— `const` ë©¤ë²„í•¨ìˆ˜ë¥¼ ì ê³  ì™¸ë¶€ì—ì„œ
êµ¬í˜„ë¶€ë¥¼ ë§Œë“¤ ê²½ìš° ê¼­ `const`ë¥¼ ë¶™ì—¬ì¤˜ì•¼í•œë‹¤ëŠ” ì ì´ë‹¤.

ì•„ë˜ì™€ ê°™ì´ ë¶™ì—¬ì¤˜ì•¼í•˜ëŠ”ë°, ë§Œì•½ ë¶™ì—¬ì£¼ì§€ ì•Šì„ ê²½ìš° *ì¼ë°˜í•¨ìˆ˜ì™€ const ë©¤ë²„í•¨ìˆ˜ë¥¼
êµ¬ë³„ í•  ìˆ˜ ì—†ê¸°* ë•Œë¬¸ì— compile ì…ì¥ì—ì„œëŠ” constê°€ ì—†ì–´ ì¼ë°˜í•¨ìˆ˜ë¡œ ê°„ì£¼í•˜ê²Œ
ëœë‹¤.

ë”°ë¼ì„œ, ì„ ì–¸ë¶€ì—ì„œ `const` ë©¤ë²„í•¨ìˆ˜ì˜ ì„ ì–¸ì´ ìˆì§€ë§Œ, êµ¬í˜„ë¶€ê°€ ì—†ì–´ ì—ëŸ¬ë‚  ìˆ˜
ìˆìœ¼ë‹ˆ ê¼­ êµ¬í˜„ë¶€ì—ë„ `const`ë¥¼ ì ì–´ì£¼ë„ë¡ í•˜ì.

```cpp
class Test
{
public:
	void foo() const;
};

// const ë¹¼ë©´ ì—ëŸ¬ë‚¨.
void Test::foo() const{

}

int main(){

}
```

### Outtro.
í•´ë‹¹ í¬ìŠ¤íŒ…ì€ Ecourseì˜ C++ Basic ê°•ì˜ë¥¼ ì°¸ê³ í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

ê°•ì˜ë¥¼ ì°¸ê³ í•˜ì‹¤ ë¶„ì€ [ì—¬ê¸°](https://www.ecourse.co.kr/course/cppbasic_v2/)ë¥¼ í´ë¦­í•´ í™•ì¸í•´ì£¼ì„¸ìš”!
