---
layout: post
author: doodoo
title: "[Effective C++] ν•­λ© 18: μΈν„°νμ΄μ¤ μ„¤κ³„λ” μ λ€λ΅ μ“°κΈ°μ—” μ‰½κ², μ—‰ν„°λ¦¬λ΅
μ“°κΈ°μ—” μ–΄λ µκ² ν•μ(2)"
subtitle: "μ„¤κ³„ λ° μ„ μ–Έ π”"
date: 2021-09-12
cover: /assets/img/default.png
tags: Effective_C++ C++
sitemap :
 changefreq : daily
 priority : 1.0
---
μ•λ…•ν•μ„Έμ”! <span class="doodoo">λ‘λ‘μ½”λ”©</span> μ…λ‹λ‹¤ β‹ <br>
μ¤λμ€ μΆ‹μ€ μΈν„°νμ΄μ¤ λ§λ“¤κΈ°μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

[μ΄μ „ ν¬μ¤ν…]()μ„ μ°Έκ³ ν•λ©΄ λ‚΄μ©μ΄ν•΄κ°€ ν›¨μ”¬ μμ›”ν•©λ‹λ‹¤!

π–‡ μ†μ¤μ½”λ“μ— λ§μ°μ¤λ¥Ό μ¬λ¦¬κ³  <span class="tip">copy</span> λ²„νΌμ„ λ„λ¥Ό κ²½μ° λ” μ‰½κ² λ³µμ‚¬ν•  μ μμµλ‹λ‹¤! 

κ¶κΈν• μ , λ³΄μ•μ  λ‚¨κ²¨μ£Όμ‹λ©΄ μ„±μ‹¤ν λ‹µλ³€ν•κ² μµλ‹λ‹¤. π <br>
\+ κ°μƒν‰ λ“κΈ€λ΅ λ‚¨κ²¨μ£Όμ‹λ©΄ νμ΄λ©λ‹λ‹¤. π™‡

### μ‚¬μ©μ μ½μ—μ„ λ­”κ°€λ¥Ό μ™Έμ›μ•Ό μ λ€λ΅ μ“Έ μ μλ” μΈν„°νμ΄μ¤λ” μλ»μ“°κΈ° μ‰½λ‹¤
μ‚¬μ©μ μ½μ—μ„ μ™Έμ›μ„ μ‚¬μ©ν•λ„λ΅ λ§λ“¤λ©΄ μ‚¬μ©μκ°€ μλ» μ‚¬μ©ν•κΈ° μ‰¬μ›μ§„λ‹¤.

```cpp
// factory ν•¨μλΌ κ°€μ •
Investment* createInvestment();
```

μ„μ ν•¨μλ¥Ό μ‚¬μ©ν•  λ•, μμ› λ„μ¶μ„ ν”Όν•κΈ° μ„ν•΄ `createInvestment`μ—μ„ μ–»μ€
ν¬μΈν„°λ¥Ό λ‚μ¤‘μ— μ‚­μ ν•΄μ•Όν•λ‹¤. ν•μ§€λ§ μ„μ™€ κ°™μ΄ ν•¨μλ¥Ό κµ¬μ„±ν•  κ²½μ° μ‚¬μ©μκ°€ μ‹¤μλ΅ μμ›μ„ ν•΄μ ν•μ§€ μ•μ•„ μμ›
λ„μκ°€ λ°μƒν•  μ μκ±°λ‚ λ‘κ°™μ€ ν¬μΈν„°μ— λ€ν•΄ `delete`κ°€ λ‘ λ²μΌμ–΄ λ‚  μ μλ‹¤.

[μ΄μ „ ν¬μ¤ν…](https://0xd00d00.github.io/2021/08/17/effective_18.html)μ„ ν†µν•΄ `auto_ptr` λλ” `tr1::shared_ptr`λ¥Ό ν• λ‹Ή λ°›μ•„ ν•΄λ‹Ή
ν¬μΈν„°λ¥Ό μ§μ ‘ μ‚­μ ν•λ” κ²ƒμ΄ μ•„λ‹λΌ *μ¤λ§νΈν¬μΈν„°*λ¥Ό ν†µν•΄ μ‚­μ ν•λ„λ΅ κµ¬μ„±ν–λ‹¤.
ν•μ§€λ§ μ΄λ° *μ¤λ§νΈν¬μΈν„°*λ¥Ό λ§λ“ λ‹¤λ” κ²ƒμ„ μμ–΄λ¨Ήκ³  ν”„λ΅κ·Έλ¨μ„ μ™„μ„±ν•κ² λλ©΄
μ–΄λ–»κ² λ κΉ? κ³ μΉκΈ°κ°€ νλ“¤μ–΄μ§„λ‹¤. λ”°λΌμ„, μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤λ• λ¶€ν„°
*μ¤λ§νΈν¬μΈν„°*λ¥Ό λ°ν™ν•λ„λ΅ ν•΄ μ‚¬μ©μμ—κ² μ‚¬μ©ν•λ„λ΅ μ§€μ‹ν•λ” κ²ƒμ΄ μΆ‹μ€
μΈν„°νμ΄μ¤ μ„¤κ³„λ°©λ²•μ΄λ‹¤.

```cpp
std::tr1::shared_ptr<Investment> createInvestment();
```

μ„μ™€ κ°™μ΄, μ›μ‹ν¬μΈν„°λ¥Ό λ°ν™λ°›λ” κ²ƒμ΄ μ•„λ‹λΌ, *μ¤λ§νΈν¬μΈν„°*λ¥Ό λ°ν™λ°›λ„λ΅
κµ¬μ„±ν•΄λ‘λ©΄ μ‚¬μ©μκ°€ κΉλΉ΅ν•κ³ , *μ¤λ§νΈν¬μΈν„°*λ¥Ό μ•λ§λ“¤μ–΄ μμ› λ„μλ¥Ό ν•λ”
μΌ€μ΄μ¤λ¥Ό λ°°μ μ‹ν‚¬ μ μλ‹¤.

μ‚¬μ‹¤ *tr1::shared_ptr*λ¥Ό λ°ν™ν•λ” κµ¬μ΅°λ” *μμ› λ„μ*λ¥Ό λ§‰λ” κ²ƒ λΏ μ•„λ‹λΌ
μƒλ‹Ήμμ μ‚¬μ©μ μ‹¤μλ¥Ό μ‚¬μ „ λ΄‰μ‡„ ν•  μ μλ” μ¥μ μ΄ μλ‹¤. λ³ΈμΈμ΄ μΈν„°νμ΄μ¤
μ„¤κ³„μλΌλ©΄ μ κ·Ή κΈ°μ©ν•λ„λ΅ ν•μ!π™„

### 
