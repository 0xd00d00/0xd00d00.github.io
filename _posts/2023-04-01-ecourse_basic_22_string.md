---
layout: post
author: ë„ë‘
title: "[C++ Basic] String class ë§Œë“¤ê¸°"
subtitle: "String í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³´ë©´ì„œ ë³µìŠµí•´ë³´ì!"
date: 2023-04-01
cover: /assets/img/default.png
tags: C++ Cpp_Basic
sitemap :
 changefreq : daily
 priority : 1.0
---
ì•ˆë…•í•˜ì„¸ìš”! ë‘ë‘ì½”ë”© <span class="doodoo">ë„ë‘ ğŸ¥¸</span> ì…ë‹ˆë‹¤ âœ‹ <br>
ì˜¤ëŠ˜ì€ String classë¥¼ ë§Œë“¤ì–´ë³´ì.

ğŸ–‡ ì†ŒìŠ¤ì½”ë“œì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê³  <span class="tip">copy</span> ë²„íŠ¼ì„ ëˆ„ë¥¼ ê²½ìš° ë” ì‰½ê²Œ ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ê¶ê¸ˆí•œ ì , ë³´ì•ˆì  ë‚¨ê²¨ì£¼ì‹œë©´ ì„±ì‹¤íˆ ë‹µë³€í•˜ê² ìŠµë‹ˆë‹¤. ğŸ˜ <br>
\+ ê°ìƒí‰ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ í˜ì´ë©ë‹ˆë‹¤. ğŸ™‡ <br>
### Intro.
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” *String classë¥¼ ë§Œë“¤ì–´ë³´ê³ , ë³µìŠµ*í•´ë³´ê² ìŠµë‹ˆë‹¤.

### í‘œì¤€ String class
ì´ë²ˆ ì‹œê°„ì—ëŠ” ì´ì œê¹Œì§€ ë§Œë“¤ì–´ ì˜¨ ì—°ì‚°ì ì¬ì •ì˜ë¥¼ ì •ë¦¬í•  ê²¸ string í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³´ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³¸ë‹¤.

```cpp
#include <iostream>

int main()
{
  char s1[10] = "hello";
  char s2[10];

  // ì´ë ‡ê²Œ í•  ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
  // ë¬¸ìì—´ ë³µì‚¬í•˜ê¸° ìœ„í•´ì„  strcpy
  s2 = s1;
}
```

ìœ„ì™€ ê°™ì´ Cì–¸ì–´ë¡œ "hello" ë¬¸ìì—´ì„ ë³µì‚¬í•˜ê¸° ìœ„í•´ì„œëŠ” `=`ë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ê³ , `strcpy()`ë¥¼ í™œìš©í•´ ë³µì‚¬í•´ì•¼í•œë‹¤.

C++ ì–¸ì–´ ê°™ì€ ê²½ìš° ë¬¸ìì—´ì„ í¸ë¦¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ `std::string`ë¥¼ ì œê³µí•œë‹¤.

```cpp
#include <iostream>
#include <string>

int main()
{
  std::string s1 = "hello";
  std::string s2;

  // =ë¥¼ ì‚¬ìš©í•´ ë³µì‚¬ê°€ëŠ¥í•˜ë‹¤.
  s2 = s1;
}
```

ìœ„ì™€ ê°™ì´ `std::string`ì„ í™œìš©í•  ê²½ìš° `=` ì—°ì‚°ìë¥¼ í™œìš©í•´ ì‰½ê²Œ ë³µì‚¬ê°€ ê°€ëŠ¥í•˜ë‹¤.

ì´ì™€ ê°™ì´, string classì—ëŠ” ë‹¤ì–‘í•œ ê¸°ë²•ë“¤ì´ ë…¹ì•„ìˆëŠ”ë°, ì‹¤ì œ ë§Œë“¤ì–´ë³´ë©° ëª‡ê°€ì§€ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë³´ì.

### String class ë§Œë“¤ê¸°
String í´ë˜ìŠ¤ëŠ” ë§ì€ ê¸°ëŠ¥ì„ ë‹´ê³  ìˆë‹¤.

ìš°ë¦¬ëŠ” ì´ ì¤‘ 4ê°€ì§€ ì •ë„ë¥¼ ë§Œë“¤ì–´ë³´ê³ ì í•œë‹¤.

```cpp
int main()
{
  // 1. ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ ë° ì´ˆê¸°í™” ê¸°ëŠ¥
  String s1 = "hello";

  // 2. coutìœ¼ë¡œ ì¶œë ¥ì´ ê°€ëŠ¥í•´ì•¼í•¨.
  std::cout << s1 << std::endl;

  // 3. ë³µì‚¬ ìƒì„±ì ì‚¬ìš© ê°€ëŠ¥í•´ì•¼í•¨.
  String s2 = s1;

  // 4. ëŒ€ì…ì—°ì‚°ì ê°€ëŠ¥í•´ì•¼í•¨.
  String s3 = "world";

  s2 = s3;
}
```

ìœ„ ì½”ë“œì—ì„œ ì£¼ì„ìœ¼ë¡œ ì–¸ê¸‰í•œ ê²ƒê³¼ ê°™ì´ 4ê°€ì§€ ê¸°ëŠ¥ì„ ì°¨ë¡€ì°¨ë¡€ ë§Œë“¤ì–´ë³´ê³ ì í•œë‹¤.

*1. String í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì´ˆê¸°í™” ê¸°ëŠ¥ì„ í•  ìˆ˜ ìˆë„ë¡ í•¨*

*2. coutì„ í™œìš©í•´ ì¶œë ¥ ê°€ëŠ¥í•˜ê²Œ í•¨.*

*3. ë³µì‚¬ ìƒì„±ì ê¸°ëŠ¥ì„ ê°€ëŠ¥í•˜ê²Œ í•¨.*

*4. ëŒ€ì… ì—°ì‚°ì ê¸°ëŠ¥ì„ ê°€ëŠ¥í•˜ê²Œ í•¨.*

#### String í´ë˜ìŠ¤ ë§Œë“¤ê¸° (1)
ê°€ì¥ ë¨¼ì € í•´ì•¼ë˜ëŠ” "*1. String í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ì´ˆê¸°í™” ê¸°ëŠ¥ì„ í•  ìˆ˜ ìˆë„ë¡ í•¨*" ë™ì‘ì„ êµ¬í˜„í•´ë³´ì.

```cpp
#include <iostream>
#include <cstring>

class String
{
  int size;
  char* buff;

public:
  String(const char* s) {
    size = strlen(s);
    buff = new char[size + 1]; // null í¬í•¨

    strcpy(buff, s);
  }

  ~String() { delete[] buff; }
};

int main()
{
  // 1.
  String s1 = "hello";
}
```
ìœ„ ì½”ë“œëŠ” `String` ê°ì²´ì˜ ê¸°ë³¸ ê³¨ê²© í´ë˜ìŠ¤ë¥¼ ë§Œë“  ê²ƒì´ë‹¤. ìƒì„±ìë¥¼ í†µí•´ ë¬¸ìì—´ì„ ì „ë‹¬ë°›ê³ , í•´ë‹¹ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ êµ¬í•´ `buff`ë¥¼ ì´ˆê¸°í™”í•œë‹¤.

ì´ ë•Œ, `+1` ë™ì‘ì„ í•˜ëŠ” ì´ìœ ëŠ” `null` ë¬¸ìì—´ê¹Œì§€ í¬í•¨í•´ì•¼ë˜ê¸° ë•Œë¬¸ì´ë‹¤. `buff`ê°€ ìƒì„±ëœ ì´í›„ `strcpy`ë¥¼ í†µí•´ ì „ë‹¬ë°›ì€ ë¬¸ìì—´ì„ ê°ì²´ì— *ë³µì‚¬í•´ ë³´ê´€*í•˜ë„ë¡ í•œë‹¤.

ì¶”ê°€ë¡œ, ìš°ë¦¬ëŠ” *ìƒì„±ì*ë¥¼ í†µí•´ `buff`ë¥¼ ìƒì„±í–ˆìœ¼ë‹ˆ *ì†Œë©¸ì*ì—ì„œ í•´ë‹¹ `buff`ë¥¼ ì œê±°í•  ìˆ˜ ìˆëŠ” ë™ì‘ì„ ì¶”ê°€í•´ì•¼í•œë‹¤. ì¶”ê°€í•˜ì§€ ì•Šì„ ê²½ìš° ê°œë°œìê°€ *ë©”ëª¨ë¦¬ ê´€ë¦¬*ë¥¼ ì§ì ‘ ìˆ˜í–‰í•´ì•¼í•˜ëŠ”ë°, ì´ ë•Œ ë§ì€ ë²„ê·¸ê°€ ìœ ë°œ ë  ìˆ˜ ìˆìœ¼ë‹ˆ *ì†Œë©¸ì*ë¥¼ í†µí•´ ìì›ì„ í•´ì œí•˜ë„ë¡ í•˜ì!

#### String í´ë˜ìŠ¤ ë§Œë“¤ê¸° (2)
`cout`ì„ í†µí•´ String ê°ì²´ì˜ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ëŠ” ë™ì‘ì„ ë§Œë“¤ì–´ë³´ì.

ìš°ë¦¬ëŠ” ì•ì„œ `cout`ì„ í†µí•´ ê°’ì„ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ë°°ì› ë‹¤. ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ë‹¤ë©´ [ì—¬ê¸°](https://0xd00d00.github.io/2023/03/30/ecourse_basic_20_ostream.html) ë¥¼ í´ë¦­í•´ ì•Œì•„ë³´ì.
`cout`ì´ ë™ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” `operator<<()` ì¬ì •ì˜ê°€ í•„ìš”í•˜ê³ , ë©¤ë²„ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ìœ¼ë‹ˆ ì¼ë°˜í•¨ìˆ˜ë¡œ êµ¬í˜„í•œë‹¤.

```cpp
#include <iostream>
#include <cstring>

class String
{
  int size;
  char* buff;

public:
  String(const char* s) {
    size = strlen(s);
    buff = new char[size + 1]; // null í¬í•¨

    strcpy(buff, s);
  }
  ~String() { delete[] buff; }

  // friend í•„ìš”
  friend std::ostream& operator<<(std::ostream&, const String&);
};

std::ostream& operator<<(std::ostream& os, const String& s)
{
  os << s.buff;
  return os;
}

int main()
{
  // 1.
  String s1 = "hello";

  // 2.
  std::cout << s1 << std::endl;
}
```

`operator<<`ë¥¼ ë§Œë“¤ ë•Œ ì£¼ì˜í•  ì ì€ `&` ì°¸ì¡° ë°˜í™˜ì„ í•´ì•¼í•œë‹¤ëŠ” ì ì´ë‹¤. ë˜í•œ, `friend` í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ `String` í´ë˜ìŠ¤ ë‚´ ë©¤ë²„ ë³€ìˆ˜ë“¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤ëŠ” ì ë„ ê¸°ì–µí•˜ë„ë¡ í•˜ì.

#### String í´ë˜ìŠ¤ ë§Œë“¤ê¸° (3)
ë³µì‚¬ ìƒì„±ì ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë³´ì.

ìš°ì„ , ë³µì‚¬ìƒì„±ìëŠ” ë§Œë“¤ì§€ ì•Šê³  í…ŒìŠ¤íŠ¸ë¥¼ í•´ë„ *ì»´íŒŒì¼ ì—ëŸ¬*ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì•„ë˜ì˜ ì½”ë“œë¥¼ *String í´ë˜ìŠ¤ ë§Œë“¤ê¸°(2)* `main()` ì½”ë“œ ë‚´ ì¶”ê°€í•˜ì—¬ í…ŒìŠ¤íŠ¸í•´ë³´ì.

```cpp
String s3 = s2; // ë³µì‚¬ ìƒì„±ì.
```

*ì»´íŒŒì¼ ì—ëŸ¬*ëŠ” ë°œìƒí•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ, *ëŸ°íƒ€ì„ ì—ëŸ¬*ê°€ ë°œìƒí•˜ê²Œ ë˜ëŠ”ë°, ì´ëŠ” *ë§í‚¹ ë™ì‘*ì—ì„œ ëŒ€ìƒì²´ê°€ ì—†ì–´ì„œ ì—ëŸ¬ë¥¼ ë‚¼ ê²ƒì´ë‹¤.

ëŒ€ì¶© ì•„ë˜ì˜ ì—ëŸ¬ì™€ ê°™ì´ ë‚˜ì˜¬ ê²ƒì´ë‹¤..

```sh
a.out(20050,0x117294600) malloc: *** error for object 0x600000950040: pointer being freed was not allocated
a.out(20050,0x117294600) malloc: *** set a breakpoint in malloc_error_break to debug
```

ìƒê°í•´ë³´ë©´ ì»´íŒŒì¼ëŸ¬ê°€ ë§Œë“¤ì–´ì£¼ëŠ” *ë””í´íŠ¸ ë³µì‚¬ ìƒì„±ì* ê°™ì€ ê²½ìš° *Shallow copy*ì´ë‹¤. ë”°ë¼ì„œ, ë©¤ë²„ë¥¼ ì „ì²´ ë³µì‚¬í•˜ëŠ”ë°, ì´ ê²½ìš° í¬ì¸í„° ê°’ë„ ê·¸ëƒ¥ ë³µì‚¬í•˜ê²Œ ëœë‹¤. í¬ì¸í„° ê°’ì„ ë³µì‚¬í•´ ì‚¬ìš©í•˜ê²Œ ë  ê²½ìš° *í•˜ë‚˜ì˜ ëŒ€ìƒì²´ë¥¼ ë‘ê°œì˜ í¬ì¸í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ìƒí™©*ì´ ë°œìƒí•˜ê²Œ ë˜ê³ , ê°€ë¦¬í‚¤ëŠ” í•˜ë‚˜ì˜ í¬ì¸í„°ê°€ *íŒŒê´´ ë  ê²½ìš°* ëŒ€ìƒì²´ê°€ ì§€ì›Œì ¸ë²„ë ¤ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. ì´ë•Œ, ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ë‚´ê²Œ ë˜ëŠ”ë°..

ì´ë¥¼ ë§‰ê¸° ìœ„í•´ì„œëŠ” *Deep copy*ë¥¼ í†µí•´ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ë³µì‚¬ìƒì„±ìë¥¼ ì¬ êµ¬ì„±í•´ì•¼ëœë‹¤.

```cpp
#include <iostream>
#include <cstring>

class String
{
  int size;
  char* buff;

public:
  String(const char* s) {
    size = strlen(s);
    buff = new char[size + 1]; // null í¬í•¨

    strcpy(buff, s);
  }
  ~String() { delete[] buff; }

  // ë³µì‚¬ ìƒì„±ì êµ¬í˜„
  String(const String& s) : size(s.size)
  {
    buff = new char[size + 1];
    strcpy(buff, s.buff);
  }

  friend std::ostream& operator<<(std::ostream&, const String&);
};

std::ostream& operator<<(std::ostream& os, const String& s)
{
  os << s.buff;
  return os;
}

int main()
{
  // 1.
  String s1 = "hello";

  // 2.
  std::cout << s1 << std::endl;

  // 3.
  String s3 = s2;
}
```

ìœ„ì™€ ê°™ì´ `String(const String&)` í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì§ì ‘ ë³µì‚¬ìƒì„±ìë¥¼ ë§Œë“¤ì–´ *Deep copy* ì²˜ë¦¬ë¥¼ í•´ì¤„ ê²½ìš° ë¬¸ì œ ì—†ì´ ë™ì‘í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ë³µì‚¬ ìƒì„±ìë„ ìƒì„±ìì„ìœ¼ë¡œ *ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸*ë¥¼ í™œìš©í•´ ì´ˆê¸°í™” ë  ê°’ë“¤ì„ ì²˜ë¦¬í•˜ë„ë¡ í•˜ì.

#### String í´ë˜ìŠ¤ ë§Œë“¤ê¸° (4)
ë§ˆì§€ë§‰ *ëŒ€ì… ì—°ì‚°ì*ë¥¼ ë§Œë“¤ì–´ë³´ì. *ëŒ€ì… ì—°ì‚°ì* ê°™ì€ ê²½ìš° ì„¤ëª…ì„ ìˆ˜ì›”í•˜ê²Œ í•˜ê¸° ìœ„í•´ `main()`ì„ ì¢€ ì •ë¦¬í•˜ê³  ì‘ì„±í•˜ë„ë¡ í•œë‹¤.

```cpp
int main()
{
  String s1 = "apple";
  String s2 = "banana";

  s1 = s2;
}
```

ìœ„ì™€ ê°™ì´ ë©”ì¸ë¬¸ì„ ë³€ê²½í•  ê²ƒì¸ë°, ì´ë ‡ê²Œ í•´ë„ ì»´íŒŒì¼ì€ ì˜ëœë‹¤. ìš°ë¦¬ê°€ ë³µì‚¬ ìƒì„±ìì—ì„œ ì–¸ê¸‰í•œ ê²ƒê³¼ ê°™ì´ ì»´íŒŒì¼ëŸ¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ *ë³µì‚¬ìƒì„±ì* / *ëŒ€ì…ì—°ì‚°ì*ë¥¼ ë§Œë“¤ì–´ì£¼ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ì€ ì˜ëœë‹¤. *ë³µì‚¬ ìƒì„±ì*ì™€ ë™ì¼í•œ ë¬¸ì œë¥¼ *ëŒ€ì…ì—°ì‚¬ìë„ ê°€ì§€ê³  ìˆë‹¤*

ì»´íŒŒì¼ëŸ¬ê°€ ë§Œë“¤ì–´ì£¼ëŠ” ê¸°ë³¸íƒ€ì…ì€ *shallow copy*ì´ë‹¤. ë”°ë¼ì„œ, ê¸°ë³¸ì ìœ¼ë¡œ í¬ì¸í„°ê°€ ë“¤ì–´ê°ˆ ê²½ìš° ë‹¤ ë¬´ë ¥í™” ëœë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ *ëŒ€ì… ì—°ì‚°ì*ë„ deep copyë¡œ êµ¬ì„±í•´ì¤˜ì•¼í•˜ëŠ”ë°, *ëŒ€ì… ì—°ì‚°ì* ê°™ì€ ê²½ìš° ê¸°ì¡´ì— ê°€ë¦¬í‚¤ë˜ ëŒ€ìƒì²´ë¥¼ *ì§€ì›Œì£¼ëŠ” ê²ƒì´ ì¤‘ìš”*í•˜ë‹¤. ì¦‰, ê¸°ì¡´ì— ë‹¤ë¥¸ ëŒ€ìƒì²´ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë‹¤ê°€, ë³µì‚¬ë˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ê°€ë¦¬í‚¤ëŠ” ëŒ€ìƒì²´ëŠ” ì œê±°í•˜ê³  ë³µì‚¬í•˜ëŠ” ë™ì‘ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ì ì„ ì£¼ëª©í•´ì„œ ë³´ì.

```cpp
#include <iostream>
#include <cstring>

class String
{
  int size;
  char* buff;

public:
  String(const char* s) {
    size = strlen(s);
    buff = new char[size + 1]; // null í¬í•¨

    strcpy(buff, s);
  }
  ~String() { delete[] buff; }

  String(const String& s) : size(s.size)
  {
    buff = new char[size + 1];
    strcpy(buff, s.buff);
  }

  // ëŒ€ì… ì—°ì‚°ì êµ¬í˜„
  String& operator=(const String& s) {
    size = s.size;

    // ê¸°ì¡´ ëŒ€ìƒì²´ë¥¼ ì œê±°í•´ì•¼ë¼.
    delete buff;

    buff = new char[size + 1];
    strcpy(buff, s.buff);

    return *this;
  }

  friend std::ostream& operator<<(std::ostream&, const String&);
};

std::ostream& operator<<(std::ostream& os, const String& s)
{
  os << s.buff;
  return os;
}

int main()
{
  String s1 = "apple";
  String s2 = "banana";

  s1 = s2;

  // banana ì¶œë ¥í•´ì•¼ë¨.
  std::cout << s1 <<std::endl;
}
```

ìœ„ì™€ ê°™ì´ êµ¬í˜„í•˜ë©´ `banana`ê°€ ì˜ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ ëŒ€ì… ì—°ì‚°ì ê°™ì€ ê²½ìš° ì •ë§ ì‹ ê¸°í•œ ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë°, ì•„ë˜ì™€ ê°™ì€ ê²½ìš°ê°€ ë°œìƒí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

```cpp
int main()
{
  String s1 = "apple";

  // ìê¸° ìì‹ ì„ ëŒ€ì…í•  ê²½ìš°...
  s1 = s1;
}
```

ìš°ë¦¬ê°€ ì‘ì„±í•œ ì½”ë“œë¡œ `s1 = s1;` ì½”ë“œë¥¼ ìˆ˜í–‰í•  ê²½ìš° ì˜ ë™ì‘í• ê¹Œ?

*ì´ìƒí•œ ê°’ ì¶œë ¥ í˜¹ì€ ì•„ë¬´ ê°’ë„ ì¶œë ¥ ë˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.* 

ìš°ë¦¬ê°€ ì‘ì„±í•œ ì½”ë“œëŠ” *ê¸°ì¡´ì˜ ëŒ€ìƒì²´ë¥¼ ë¨¼ì € ì œê±°*í•œë‹¤. ë§Œì•½ ìœ„ì™€ ê°™ì€ ìƒí™©ì´ ë°œìƒí•  ê²½ìš° ë¨¼ì € *ëŒ€ìƒì²´ë¥¼ ì œê±° í–ˆê¸° ë•Œë¬¸ì—* ë³µì‚¬í•  ëŒ€ìƒì²´ê°€ ì—†ì–´ì§„ë‹¤. ë”°ë¼ì„œ ì´ìƒí•œ ê°’ì´ ë“¤ì–´ê°€ê±°ë‚˜ ì•„ë¬´ê²ƒë„ ì—†ëŠ” ê°’ì´ ë“¤ì–´ê°€ì§€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë³¸ì¸ì˜ ì£¼ì†Œì¼ ê²½ìš° *ëŒ€ì… ì—°ì‚°ì*ë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê¸°ë²•ì„ ì‚¬ìš©í•œë‹¤.

```cpp
if (&s == this)
  return *this;
```

ì¦‰, ì „ë‹¬ë°›ì€ ì£¼ì†Œê°€ `this` ë³¸ì¸ì¼ ê²½ìš° `return` í•˜ë„ë¡ ë§Œë“œëŠ” ê²ƒì´ë‹¤. C++ ë‚´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê¸°ë²•ì´ê³ , *ëŒ€ì…ì—°ì‚°ì*ë¼ë©´ ë¬´ì¡°ê±´ ë„£ì–´ì¤€ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.

ìœ„ ì½”ë“œë¥¼ ë„£ê³  `String` í´ë˜ìŠ¤ë¥¼ ì™„ì„±í•´ë³´ì.

```cpp
#include <iostream>
#include <cstring>

class String
{
  int size;
  char* buff;

public:
  String(const char* s) {
    size = strlen(s);
    buff = new char[size + 1]; // null í¬í•¨

    strcpy(buff, s);
  }
  ~String() { delete[] buff; }

  String(const String& s) : size(s.size)
  {
    buff = new char[size + 1];
    strcpy(buff, s.buff);
  }

  // ëŒ€ì… ì—°ì‚°ì êµ¬í˜„
  String& operator=(const String& s) {

    // ìê¸° ìì‹  ì£¼ì†Œ ì²´í¬...!!
    if (&s == this) return *this;

    size = s.size;

    // ê¸°ì¡´ ëŒ€ìƒì²´ë¥¼ ì œê±°í•´ì•¼ë¼.
    delete buff;

    buff = new char[size + 1];
    strcpy(buff, s.buff);

    return *this;
  }

  friend std::ostream& operator<<(std::ostream&, const String&);
};

std::ostream& operator<<(std::ostream& os, const String& s)
{
  os << s.buff;
  return os;
}

int main()
{
  String s1 = "apple";
  String s2 = "banana";

  s1 = s2;
  s1 = s1;

  // banana ì¶œë ¥í•´ì•¼ë¨.
  std::cout << s1 <<std::endl;
}
```

ìœ„ ì½”ë“œë¥¼ ë¹Œë“œí•´ë³´ë©´ ì˜ ë™ì‘í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ìš°ë¦¬ëŠ” `String` í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë©´ì„œ ì´ì „ì— ë°°ì› ë˜ ê²ƒì„ ë³µìŠµí—€ë‹¤. ì§ì ‘ ë§Œë“¤ì–´ë³´ë©° ìµíˆë©´ ì¢‹ì„ ê²ƒ ê°™ê³ , ë³¸ì¸ë„ ê°•ì˜ë¥¼ ë“£ê³  ì§ì ‘ ì„¤ëª…ì„ í•˜ë©´ì„œ ì½”ë“œë¥¼ êµ¬í˜„í•´ë³´ì•˜ë‹¤. ëª¨ë¥´ëŠ” ë¶€ë¶„ì„ ì°¾ê±°ë‚˜ ë‹¤ì‹œ ë³´ê¸°ë„ í•˜ë©´ì„œ... êµ¬í˜„í–ˆìœ¼ë‹ˆ ì—¬ëŸ¬ë¶„ë„ í•œë²ˆ ì‹œë„í•´ë³´ì!

### Outtro
í•´ë‹¹ í¬ìŠ¤íŒ…ì€ Ecourseì˜ C++ Basic ê°•ì˜ë¥¼ ì°¸ê³ í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

ê°•ì˜ë¥¼ ì°¸ê³ í•˜ì‹¤ ë¶„ì€ [ì—¬ê¸°](https://www.ecourse.co.kr/course/cppbasic_v2/)ë¥¼ í´ë¦­í•´ í™•ì¸í•´ì£¼ì„¸ìš”!
